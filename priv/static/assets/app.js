(()=>{var I=Object.create;var E=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,L=Object.prototype.hasOwnProperty;var O=(e,a)=>()=>(a||e((a={exports:{}}).exports,a),a.exports);var q=(e,a,n,o)=>{if(a&&typeof a=="object"||typeof a=="function")for(let c of w(a))!L.call(e,c)&&c!==n&&E(e,c,{get:()=>a[c],enumerable:!(o=F(a,c))||o.enumerable});return e};var J=(e,a,n)=>(n=e!=null?I(V(e)):{},q(a||!e||!e.__esModule?E(n,"default",{value:e,enumerable:!0}):n,e));var T=O((A,f)=>{(function(e,a){"use strict";(function(){for(var t=0,r=["ms","moz","webkit","o"],s=0;s<r.length&&!e.requestAnimationFrame;++s)e.requestAnimationFrame=e[r[s]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[r[s]+"CancelAnimationFrame"]||e[r[s]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(v,z){var b=new Date().getTime(),k=Math.max(0,16-(b-t)),N=e.setTimeout(function(){v(b+k)},k);return t=b+k,N}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(v){clearTimeout(v)})})();var n,o,c,h=null,m=null,p=null,x=function(t,r,s){t.addEventListener?t.addEventListener(r,s,!1):t.attachEvent?t.attachEvent("on"+r,s):t["on"+r]=s},i={autoRun:!0,barThickness:3,barColors:{0:"rgba(26,  188, 156, .9)",".25":"rgba(52,  152, 219, .9)",".50":"rgba(241, 196, 15,  .9)",".75":"rgba(230, 126, 34,  .9)","1.0":"rgba(211, 84,  0,   .9)"},shadowBlur:10,shadowColor:"rgba(0,   0,   0,   .6)",className:null},y=function(){n.width=e.innerWidth,n.height=i.barThickness*5;var t=n.getContext("2d");t.shadowBlur=i.shadowBlur,t.shadowColor=i.shadowColor;var r=t.createLinearGradient(0,0,n.width,0);for(var s in i.barColors)r.addColorStop(s,i.barColors[s]);t.lineWidth=i.barThickness,t.beginPath(),t.moveTo(0,i.barThickness/2),t.lineTo(Math.ceil(o*n.width),i.barThickness/2),t.strokeStyle=r,t.stroke()},S=function(){n=a.createElement("canvas");var t=n.style;t.position="fixed",t.top=t.left=t.right=t.margin=t.padding=0,t.zIndex=100001,t.display="none",i.className&&n.classList.add(i.className),a.body.appendChild(n),x(e,"resize",y)},d={config:function(t){for(var r in t)i.hasOwnProperty(r)&&(i[r]=t[r])},show:function(t){if(!c)if(t){if(p)return;p=setTimeout(()=>d.show(),t)}else c=!0,m!==null&&e.cancelAnimationFrame(m),n||S(),n.style.opacity=1,n.style.display="block",d.progress(0),i.autoRun&&function r(){h=e.requestAnimationFrame(r),d.progress("+"+.05*Math.pow(1-Math.sqrt(o),2))}()},progress:function(t){return typeof t=="undefined"||(typeof t=="string"&&(t=(t.indexOf("+")>=0||t.indexOf("-")>=0?o:0)+parseFloat(t)),o=t>1?1:t,y()),o},hide:function(){clearTimeout(p),p=null,c&&(c=!1,h!=null&&(e.cancelAnimationFrame(h),h=null),function t(){if(d.progress("+.1")>=1&&(n.style.opacity-=.05,n.style.opacity<=.05)){n.style.display="none",m=null;return}m=e.requestAnimationFrame(t)}())}};typeof f=="object"&&typeof f.exports=="object"?f.exports=d:typeof define=="function"&&define.amd?define(function(){return d}):this.topbar=d}).call(A,window,document)});var g=J(T()),R=document.querySelector("html").getAttribute("phx-socket")||"/live",j=document.querySelector("meta[name='csrf-token']").getAttribute("content"),u={},C={};u.JsonEditor={mounted(){let e=this.el.getAttribute("data-input-id"),a=document.getElementById(e),n=document.createElement("textarea");n.value=a.value||"{}",this.el.appendChild(n),this.editor=CodeMirror.fromTextArea(n,{mode:"javascript",lineNumbers:!0,theme:"default",lineWrapping:!0,height:"400px"});try{let o=JSON.parse(a.value||"{}");this.editor.setValue(JSON.stringify(o,null,2))}catch(o){this.editor.setValue(a.value||"{}")}this.editor.on("change",()=>{a.value=this.editor.getValue(),a.dispatchEvent(new Event("change",{bubbles:!0}))}),C[this.el.id]=this.editor},destroyed(){this.editor&&this.editor.toTextArea()}};u.JsonEditorSource={updated(){try{let e=C[this.el.getAttribute("data-editor-id")];if(e&&this.el.value&&e.getValue()!==this.el.value)try{let n=JSON.parse(this.el.value);e.setValue(JSON.stringify(n,null,2))}catch(n){e.setValue(this.el.value)}}catch(e){}}};u.JsonView={mounted(){let e=this.el.getAttribute("data-json"),a=document.createElement("textarea");try{let n=JSON.parse(e);a.value=JSON.stringify(n,null,2)}catch(n){a.value=e}this.el.appendChild(a),this.editor=CodeMirror.fromTextArea(a,{mode:"javascript",lineNumbers:!0,readOnly:!0,theme:"default",lineWrapping:!0})},updated(){if(this.editor){let e=this.el.getAttribute("data-json");try{let a=JSON.parse(e);this.editor.setValue(JSON.stringify(a,null,2))}catch(a){this.editor.setValue(e)}}},destroyed(){this.editor&&this.editor.toTextArea()}};u.MarkdownEditor={mounted(){let e=this.el.getAttribute("data-target-id"),a=document.getElementById(e);this.editor=CodeMirror.fromTextArea(a,{mode:"markdown",lineNumbers:!0,theme:"default",lineWrapping:!0,height:"300px"}),this.editor.on("change",()=>{a.value=this.editor.getValue(),a.dispatchEvent(new Event("change",{bubbles:!0}))})},destroyed(){this.editor&&this.editor.toTextArea()}};u.Actor={mounted(){this.handleEvent("set_actor",e=>{document.cookie="actor_resource="+encodeURIComponent(e.resource)+";path=/",document.cookie="actor_primary_key="+encodeURIComponent(e.primary_key)+";path=/",document.cookie="actor_action="+encodeURIComponent(e.action)+";path=/",document.cookie="actor_domain="+encodeURIComponent(e.domain)+";path=/",document.cookie="actor_tenant="+encodeURIComponent(e.tenant)+";path=/"}),this.handleEvent("clear_actor",()=>{document.cookie="actor_resource=;path=/",document.cookie="actor_primary_key=;path=/",document.cookie="actor_action=;path=/",document.cookie="actor_tenant=;path=/",document.cookie="actor_domain=;path=/",document.cookie="actor_authorizing=false;path=/",document.cookie="actor_paused=true;path=/"}),this.handleEvent("toggle_authorizing",e=>{document.cookie="actor_authorizing="+e.authorizing+";path=/"}),this.handleEvent("toggle_actor_paused",e=>{document.cookie="actor_paused="+e.actor_paused+";path=/"})}};u.Tenant={mounted(){this.handleEvent("set_tenant",e=>{document.cookie="tenant="+e.tenant+";path=/"}),this.handleEvent("clear_tenant",()=>{document.cookie="tenant=;path=/"})}};u.MaintainAttrs={attrs(){return this.el.getAttribute("data-attrs").split(", ")},beforeUpdate(){this.prevAttrs=this.attrs().map(e=>[e,this.el.getAttribute(e)])},updated(){this.prevAttrs.forEach(([e,a])=>this.el.setAttribute(e,a))}};u.Typeahead={mounted(){this.aborter=new AbortController;let e=this.aborter.signal,a=this.el.getAttribute("data-target-id"),n=document.getElementById(a);switch(this.el.tagName){case"INPUT":this.el.addEventListener("keydown",o=>{o.key==="Enter"&&o.preventDefault()},{signal:e}),this.el.addEventListener("keyup",o=>{switch(o.key){case"Enter":case"Escape":this.el.blur(),window.setTimeout(function(){n.dispatchEvent(new Event("input",{bubbles:!0}))},750);break}},{signal:e});break;case"LI":this.el.addEventListener("click",o=>{window.setTimeout(function(){n.dispatchEvent(new Event("input",{bubbles:!0}))},750)},{signal:e});break}},updated(){this.el.tagName==="INPUT"&&this.el.name.match(/suggest$/)&&this.el.value.length===0&&this.el.focus()},beforeDestroy(){this.aborter&&this.aborter.abort()}};function l(e){var a=new RegExp(e+"=([^;]+)"),n=a.exec(document.cookie);return n!=null?decodeURIComponent(n[1]):null}var U=()=>({_csrf_token:j,tenant:l("tenant"),actor_resource:l("actor_resource"),actor_primary_key:l("actor_primary_key"),actor_tenant:l("actor_tenant"),actor_action:l("actor_action"),actor_domain:l("actor_domain"),actor_authorizing:l("actor_authorizing"),actor_paused:l("actor_paused")}),_=new LiveView.LiveSocket(R,Phoenix.Socket,{params:U,hooks:u,dom:{onBeforeElUpdated(e,a){e._x_dataStack&&window.Alpine.clone(e,a)}}});g.default.config({barColors:{0:"#29d"},shadowColor:"rgba(0, 0, 0, .3)"});window.addEventListener("phx:page-loading-start",e=>g.default.show(300));window.addEventListener("phx:page-loading-stop",e=>g.default.hide());_.connect();_.enableDebug();window.liveSocket=_;})();
/**
 * @license MIT
 * topbar 2.0.0, 2023-02-04
 * https://buunguyen.github.io/topbar
 * Copyright (c) 2021 Buu Nguyen
 */
